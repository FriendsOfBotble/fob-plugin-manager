(()=>{"use strict";var e={262:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,l]of t)n[e]=l;return n}}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,n),a.exports}(()=>{const e=Vue;var t={class:"spinner-border spinner-border-sm me-2",role:"status"};const l={},o=(0,n(262).A)(l,[["render",function(n,l){return(0,e.openBlock)(),(0,e.createElementBlock)("span",t)}]]);var a={class:"card mb-3"},r=(0,e.createElementVNode)("div",{class:"card-header"},[(0,e.createElementVNode)("h4",{class:"card-title"},"Install a new plugin")],-1),c={class:"card-body"},s={class:"mb-3"},i=["disabled"],u={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},d=[(0,e.createElementVNode)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,e.createElementVNode)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"},null,-1),(0,e.createElementVNode)("path",{d:"M7 11l5 5l5 -5"},null,-1),(0,e.createElementVNode)("path",{d:"M12 4l0 12"},null,-1)];const p={__name:"Installer",setup:function(t){var n=(0,e.ref)(null),l=(0,e.ref)(!1),p=function(){l.value=!0,$httpClient.make().post(route("plugin-manager.require-plugin",{name:n.value})).then((function(){return window.location.reload()})).finally((function(){return l.value=!1}))};return function(t,m){return(0,e.openBlock)(),(0,e.createElementBlock)("div",a,[r,(0,e.createElementVNode)("div",c,[(0,e.createElementVNode)("form",{onSubmit:(0,e.withModifiers)(p,["prevent"])},[(0,e.createElementVNode)("div",s,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=function(e){return n.value=e}),class:"form-control",placeholder:"vendor/plugin-name",required:""},null,512),[[e.vModelText,n.value]])]),(0,e.createElementVNode)("button",{type:"submit",class:"btn btn-primary",disabled:l.value},[l.value?((0,e.openBlock)(),(0,e.createBlock)(o,{key:0})):((0,e.openBlock)(),(0,e.createElementBlock)("svg",u,d)),(0,e.createTextVNode)(" Install ")],8,i)],32)])])}}};var m={class:"list-group-item"},v={class:"row align-items-center"},h={class:"col"},g={class:"row align-items-center"},k={class:"col"},f={class:"mb-2"},E=["href"],V={class:"d-flex align-items-center gap-1"},N={class:"badge bg-green-lt"},w={class:"col-auto"},b=[(0,e.createStaticVNode)('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-sm" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 5l0 14"></path><path d="M18 11l-6 -6"></path><path d="M6 11l6 -6"></path></svg>',1)];const B={__name:"PluginItem",props:{plugin:{type:Object,required:!0}},emits:["updatePlugin"],setup:function(t){var n=function(e){return"v".concat(e.replace(/^v/,""))};return function(l,o){return(0,e.openBlock)(),(0,e.createElementBlock)("div",m,[(0,e.createElementVNode)("div",v,[(0,e.createElementVNode)("div",h,[(0,e.createElementVNode)("div",g,[(0,e.createElementVNode)("div",k,[(0,e.createElementVNode)("h4",f,[(0,e.createElementVNode)("a",{href:t.plugin.url,target:"_blank"},(0,e.toDisplayString)(t.plugin.name),9,E)]),(0,e.createElementVNode)("div",V,[(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(n(t.plugin.version)),1),(0,e.createElementVNode)("span",N,(0,e.toDisplayString)(n(t.plugin.latest)),1)])]),(0,e.createElementVNode)("div",w,[(0,e.createElementVNode)("button",{class:"btn btn-sm btn-icon",onClick:o[0]||(o[0]=function(e){return l.$emit("updatePlugin",t.plugin)})},b)])])])])])}}};var y={class:"card"},x=(0,e.createElementVNode)("div",{class:"card-header"},[(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("h3",{class:"card-title"},[(0,e.createTextVNode)(" Updates "),(0,e.createElementVNode)("span",{class:"card-subtitle"}," Run a check for updates to your plugins. ")])])],-1),C={class:"card-body"},M=(0,e.createElementVNode)("strong",null,"Last update check:",-1),_={class:"text-muted"},S={class:"btn-list"},U=["disabled"],T={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},j=[(0,e.createElementVNode)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,e.createElementVNode)("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},null,-1),(0,e.createElementVNode)("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},null,-1)],z=(0,e.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,e.createElementVNode)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,e.createElementVNode)("path",{d:"M7 4v16l13 -8z"})],-1),D={key:0,class:"list-group list-group-flush mt-3"};const P={__name:"Updater",props:{lastUpdateCheck:String},setup:function(t){var n=t,l=(0,e.ref)(!1),a=(0,e.ref)([]),r=(0,e.ref)(n.lastUpdateCheck),c=function(){l.value=!0,$httpClient.make().post(route("plugin-manager.check-for-updates")).then((function(e){var t=e.data.data,n=t.last_check,l=t.plugins;r.value=n,a.value=[],l.forEach((function(e){["semver-safe-update","update-possible"].includes(e["latest-status"])&&a.value.push(e)})),a.value.length<1&&Botble.showSuccess("Everything is up to date.")})).finally((function(){return l.value=!1}))},s=function(){},i=function(e){$httpClient.make().post(route("plugin-manager.update-plugin",{name:e.name})).then((function(){return window.location.reload()}))};return function(t,n){return(0,e.openBlock)(),(0,e.createElementBlock)("div",y,[x,(0,e.createElementVNode)("div",C,[(0,e.createElementVNode)("p",null,[M,(0,e.createTextVNode)(),(0,e.createElementVNode)("span",_,(0,e.toDisplayString)(r.value),1)]),(0,e.createElementVNode)("div",S,[(0,e.createElementVNode)("button",{type:"button",class:"btn",onClick:c,disabled:l.value},[l.value?((0,e.openBlock)(),(0,e.createBlock)(o,{key:0})):((0,e.openBlock)(),(0,e.createElementBlock)("svg",T,j)),(0,e.createTextVNode)(" Check for updates ")],8,U),(0,e.createElementVNode)("button",{type:"button",class:"btn",onClick:s},[z,(0,e.createTextVNode)(" Run global update ")])]),a.value.length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",D,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(a.value,(function(t){return(0,e.openBlock)(),(0,e.createBlock)(B,{key:t.name,plugin:t,onUpdatePlugin:i},null,8,["plugin"])})),128))])):(0,e.createCommentVNode)("",!0)])])}}},A={__name:"PluginManager",props:{lastUpdateCheck:String},setup:function(t){return function(n,l){return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createVNode)(p),(0,e.createVNode)(P,{"last-update-check":t.lastUpdateCheck},null,8,["last-update-check"])])}}};"undefined"!=typeof vueApp&&vueApp.booting((function(e){e.component("v-plugin-manager",A)}))})()})();